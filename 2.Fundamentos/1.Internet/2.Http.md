# O que é http?

É o protocolo fundamental para transmissão de informação entre dispositivos na internet.

## O que há em uma solicitação http?

Essa solicitação é um grupo de informações que o cliente manda para o servidor, nesse processo que a comunicação acontece.

Uma solicitação HTTP típica contém os seguintes componentes:

- **Tipo de versão HTTP:** Indica a versão do protocolo que está sendo utilizada;
- **URL:** O endereço do recurso que está sendo solicitado;
- **Método HTTP:** A ação que o cliente deseja que o servidor execute, como GET (para obter dados) ou POST (para enviar dados);
- **Cabeçalhos de solicitação HTTP:** Informações adicionais em pares chave-valor que comunicam detalhes sobre a solicitação, como o tipo de navegador ou o formato de dados aceito;
- **Corpo HTTP (opcional):** Dados que podem ser enviados ao servidor, como informações de formulários.

### Métodos

Esse método indica a ação que o http espera do servidor consultado. 

Os métodos mais comuns são:
- **GET:** Essa solicitação espera informações de volta (um site, por exemplo);
- **POST:** Aqui o cliente envia dados para o servidro (formulário, compras online e etc).

### Cabeçalhos 

Eles consistem em pares chave-valor que transportam informações adicionais sobre a comunicação entre o cliente (como um navegador) e o servidor. Basicamente informações para extrair o melhor da comunicação, seja otimizando o desempenho com controle de cache ou credenciais de autenticação para acesso de recursos protegidos.

Cabeçalhos de Solicitação: Enviados pelo cliente ao servidor. Exemplos incluem:

 - **User-Agent:** Informa o tipo de navegador e sistema operacional;
 - **Accept:** Especifica os tipos de conteúdo que o cliente pode processar;
 - **Cookie:** Envia cookies armazenados pelo cliente.

Cabeçalhos de Resposta: Enviados pelo servidor ao cliente. Exemplos incluem:
 - **Content-Type:** Indica o tipo de conteúdo da resposta;
 - **Content-Length:** Especifica o tamanho do corpo da resposta;
 - **Set-Cookie:** Envia cookies do servidor para o cliente.

Cabeçalhos Gerais: Aplicáveis a ambas as solicitações e respostas, como:
 - **Date:** Indica a data e hora em que a mensagem foi gerada;
 - **Connection:** Controla se a conexão deve ser mantida aberta.

### Corpo

O corpo seriam os dados que o cliente quer enviar para o servidor. Exemplo: Formulários, APIs, upload de arquivos e etc.



## A resposta http

Se teve a pergunta terá que ter a resposta. Aqui o servidor vai dar o retorno para o cliente, seja com o serviço ou com erros.

A estrutura básica de uma resposta:

- **Código de status**;
- **Cabeçalho de resposta**;
- **Corpo da resposta**.

### O que é status code?

É um código numérico de 3 digitos que indica o resultado da requisição.

- **1. Códigos de Status Informativos (1xx)**
    - 100 Continue: Indica que o servidor recebeu a solicitação inicial e o cliente pode continuar com a solicitação.
    - 101 Switching Protocols: Indica que o servidor está mudando os protocolos conforme solicitado pelo cliente.

- **2. Códigos de Status de Sucesso (2xx)**
    - 200 OK: Indica que a solicitação foi bem-sucedida e o servidor retornou os dados solicitados.
    - 201 Created: Indica que a solicitação foi bem-sucedida e um novo recurso foi criado (geralmente em resposta a uma solicitação POST).
    - 204 No Content: Indica que a solicitação foi bem-sucedida, mas não há conteúdo a ser retornado.

- **3. Códigos de Status de Redirecionamento (3xx)**
    - 301 Moved Permanently: Indica que o recurso solicitado foi movido permanentemente para uma nova URL.
    - 302 Found: Indica que o recurso solicitado foi encontrado em uma URL temporária.
    - 304 Not Modified: Indica que o recurso não foi modificado desde a última solicitação, permitindo que o cliente use a versão em cache.

- **4. Códigos de Status de Erro do Cliente (4xx)**
    - 400 Bad Request: Indica que a solicitação do cliente é inválida ou malformada.
    - 401 Unauthorized: Indica que a autenticação é necessária e falhou ou não foi fornecida.
    - 403 Forbidden: Indica que o servidor entendeu a solicitação, mas se recusa a autorizá-la.
    - 404 Not Found: Indica que o recurso solicitado não foi encontrado no servidor.

- **5. Códigos de Status de Erro do Servidor (5xx)**
    - 500 Internal Server Error: Indica que ocorreu um erro inesperado no servidor ao processar a solicitação.
    - 502 Bad Gateway: Indica que o servidor, ao atuar como um gateway ou proxy, recebeu uma resposta inválida de um servidor upstream.
    - 503 Service Unavailable: Indica que o servidor está temporariamente indisponível, geralmente devido a sobrecarga ou manutenção.

### O que vem no cabeçalho de resposta?

Assim como na requisição, aqui na resposta o cabeçalho são pares chave-valor que contém informações da resposta enviada do servidor par ao cliente.

Algumas coisas que podem vir:

- **1. Content-Type**
Descrição: Indica o tipo de conteúdo que está sendo retornado no corpo da resposta.
Exemplo: Content-Type: text/html; charset=UTF-8 (para HTML) ou Content-Type: application/json (para JSON).

- **2. Content-Length**
Descrição: Especifica o tamanho do corpo da resposta em bytes. Isso ajuda o cliente a saber quanto de dados esperar.
Exemplo: Content-Length: 1234.

- **3. Set-Cookie**
Descrição: Envia cookies do servidor para o cliente. Os cookies podem ser usados para manter sessões, rastrear usuários ou armazenar preferências.
Exemplo: Set-Cookie: sessionId=abc123; Path=/; HttpOnly.

- **4. Cache-Control**
Descrição: Instruções sobre como o conteúdo deve ser armazenado em cache pelo cliente ou intermediários (como proxies).
Exemplo: Cache-Control: no-cache (não armazenar em cache) ou Cache-Control: max-age=3600 (armazenar em cache por 1 hora).

- **5. Expires**
Descrição: Indica a data e hora em que a resposta deve ser considerada expirada. É uma forma de controle de cache.
Exemplo: Expires: Wed, 21 Oct 2023 07:28:00 GMT.

- **6. Last-Modified**
Descrição: Indica a última vez que o recurso foi modificado. Isso pode ser usado pelo cliente para determinar se deve solicitar uma nova versão do recurso.
Exemplo: Last-Modified: Tue, 20 Oct 2023 15:00:00 GMT.

- **7. ETag**
Descrição: Um identificador único para a versão do recurso. O cliente pode usar o ETag para verificar se o recurso foi modificado desde a última solicitação.
Exemplo: ETag: "abc123".

- **8. Location**
Descrição: Usado em respostas de redirecionamento (códigos de status 3xx) para indicar a nova URL para a qual o cliente deve ser redirecionado.
Exemplo: Location: https://www.exemplo.com/nova-url.

- **9. Server**
Descrição: Informa o software do servidor que está processando a solicitação.
Exemplo: Server: Apache/2.4.41 (Ubuntu).

- **10. Date**
Descrição: A data e hora em que a resposta foi gerada pelo servidor.
Exemplo: Date: Wed, 21 Oct 2023 07:28:00 GMT.

### O que vem no corpo de resposta?

Na maioria das solicitações web são os dados HTML que o browser traduz em uma página web.



## Proxies

O proxy é um intermediário entre o cliente e o servidor que busca trazer uma camada a mais de segurança e facilitando a comunicação.

Algumas de suas funções são:

- **Cacheamento:** Proxies podem armazenar cópias de respostas de servidores para que, em requisições subsequentes, possam fornecer os dados diretamente do cache, em vez de buscar novamente no servidor;

- **Filtragem de Conteúdo:** Bloquear ou permitir o acesso a determinados sites ou tipos de conteúdo, como sites de redes sociais ou conteúdo adulto;

- **Balanceamento de Carga:** Distribuir requisições entre vários servidores para garantir que nenhum servidor fique sobrecarregado;

- **Autenticação e Autorização:** Exigir que os usuários se autentiquem antes de permitir o acesso a determinados recursos;

- **Registro de Informações:** Registrar informações sobre as requisições e respostas, permitindo a análise de tráfego e o monitoramento de atividades;

- **Acesso a Recursos em Redes Privadas:** Permitir que usuários em redes privadas acessem recursos na internet, ocultando seus endereços IP reais;

- **Tunelamento:** Ser usados para criar túneis seguros para comunicação entre clientes e servidores, como em conexões VPN (Virtual Private Network).



## Alguns conceitos

- **HTTP Host Header:** O HTTP Host Header é um componente essencial do protocolo HTTP que permite que servidores web identifiquem qual site ou recurso deve ser acessado em um servidor que hospeda múltiplos domínios. Quando um cliente, como um navegador, faz uma requisição a um servidor, ele inclui o cabeçalho “Host” na solicitação, especificando o nome do domínio que está tentando acessar. Isso é especialmente importante em ambientes de hospedagem compartilhada, onde vários sites podem estar rodando no mesmo endereço IP;

- **Cache:** O cache é uma técnica de armazenamento temporário que armazena cópias de dados ou recursos frequentemente acessados para melhorar a eficiência e a velocidade de acesso a esses dados. O cache pode ser utilizado em diferentes contextos, como em navegadores da web, servidores, sistemas operacionais e redes;

- **Cockies:** São pequenos arquivos de texto que são armazenados no dispositivo do usuário por um site durante a navegação. Eles são utilizados para armazenar informações sobre a sessão do usuário e suas interações com o site;

- **Pipelining:** É uma técnica que permite que múltiplas requisições sejam enviadas de um cliente para um servidor sem esperar pela resposta de cada uma delas antes de enviar a próxima. Essa abordagem visa melhorar a eficiência e a velocidade da comunicação entre o cliente e o servidor. 